<!--/*

  ADOBE CONFIDENTIAL
  __________________

   Copyright 2014 Adobe Systems Incorporated
   All Rights Reserved.

  NOTICE:  All information contained herein is, and remains
  the property of Adobe Systems Incorporated and its suppliers,
  if any.  The intellectual and technical concepts contained
  herein are proprietary to Adobe Systems Incorporated and its
  suppliers and are protected by trade secret or copyright law.
  Dissemination of this information or reproduction of this material
  is strictly forbidden unless prior written permission is obtained
  from Adobe Systems Incorporated.

  ---

  This is the default component for entering personalized text in an email context.

  It extends a standard text component's UI with a dropdown that allows the user to select
  placeholders from a list provided by Adobe Campaign.

  The created markup conforms to the limited subset of HTML that is suited for email
  content.

  The component is enabled by default and accessible through Sidekick/Component List. It is
  supported by both Classic UI and Touch UI.

  The Classic UI implementation additionally supports the font tag.

*/-->
<p data-sly-use.personalization="personalization.js" data-sly-unwrap="${personalization.context == personalization.CONST.CONTEXT_HTML}" class="${personalization.cssClass}" data-emptytext="Text & Personalization (Training)">
    <div data-sly-unwrap="${wcmmode.disabled || !personalization.isTouch}" class="ac-personalize">
        ${personalization.text @ context=personalization.context}
    </div>
</p>

<div data-sly-test="${!wcmmode.disabled && !personalization.isTouch}" data-sly-use.clientLib="${'/libs/granite/sightly/templates/clientlib.html'}" data-sly-unwrap>
	<meta data-sly-call="${clientLib.all @ categories='cq.personalization'}" data-sly-unwrap></meta>
	<script type="text/javascript">
		CQ.personalization.variables.Variables.applyToEditComponent("${resource.path @ context='scriptString'}");
	</script>
</div>